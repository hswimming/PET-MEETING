CREATE TABLE DOG_INFO (
	D_ID VARCHAR2(50),
	D_IMG	VARCHAR2(4000),
	D_NAME VARCHAR2(100) NOT NULL,
	D_KIND VARCHAR2(100) NOT NULL,
	D_SIZE VARCHAR2(10) NOT NULL,
	D_GENDER VARCHAR(10) NOT NULL,
	NEUTERED CHAR(1) NOT NULL,
	VACCINE	VARCHAR2(1000) NOT NULL,
	MEMBER_CODE	VARCHAR2(20) NOT NULL,
    CONSTRAINT DOG_INFO_ID_PK PRIMARY KEY(D_ID),
    CONSTRAINT MEMBER_MEMBER_CODE_FK FOREIGN KEY (MEMBER_CODE) REFERENCES MEMBER
);


COMMENT ON COLUMN DOG_INFO.D_ID IS '아이디';
COMMENT ON COLUMN DOG_INFO.D_IMG IS '사진';
COMMENT ON COLUMN DOG_INFO.D_NAME IS '이름';
COMMENT ON COLUMN DOG_INFO.D_KIND IS '견종';
COMMENT ON COLUMN DOG_INFO.D_SIZE IS '크기';
COMMENT ON COLUMN DOG_INFO.D_GENDER IS '성별';
COMMENT ON COLUMN DOG_INFO.NEUTERED IS '중성화';
COMMENT ON COLUMN DOG_INFO.VACCINE IS '백신접종';
COMMENT ON COLUMN DOG_INFO.MEMBER_CODE IS '회원코드';

DROP TABLE DOG_INFO;

CREATE SEQUENCE DOG_ID;

DROP SEQUENCE DOG_ID;

INSERT INTO DOG_INFO (
    D_ID,
    D_IMG,
    D_NAME,
    D_KIND,
    D_SIZE,
    D_GENDER,
    NEUTERED,
    VACCINE,
    MEMBER_CODE
) VALUES(
    'DOG' || DOG_ID.NEXTVAL,
    'NULL',
    '보리',
    '미니어쳐 핀셔',
    '소형견',
    '암컷',
    'N',
    '접종안함',
    '1'
);

COMMIT;

CREATE TABLE MEMBER (
    MEMBER_CODE NUMBER,
    MEMBER_ID VARCHAR2(20) CONSTRAINT MEMBER_ID_NN NOT NULL,
    MEMBER_PWD VARCHAR2(40) CONSTRAINT MEMBER_PWD_NN NOT NULL,
    MEMBER_NAME VARCHAR2(20) CONSTRAINT MEMBER_NAME_NN NOT NULL,
    MEMBER_NICKNAME VARCHAR2(10) CONSTRAINT MEMBER_NICKNAME_NN NOT NULL,
    MEMBER_PHONE NUMBER CONSTRAINT MEMBER_PHONE_NN NOT NULL,
    MEMBER_ADDRESS VARCHAR2(50) CONSTRAINT MEMBER_ADDRESS_NN NOT NULL,
    MEMBER_EMAIL VARCHAR2(100) CONSTRAINT MEMBER_EMAIL_NN NOT NULL,
    MEMBER_BIRTH DATE CONSTRAINT MEMBER_BIRTH_NN NOT NULL,
    MEMBER_REG_DATE DATE  DEFAULT SYSDATE CONSTRAINT MEMBER_REG_DATE_NN NOT NULL,
    MEMBER_GENDER VARCHAR2(1) CONSTRAINT MEMBER_GENDER_NN NOT NULL CONSTRAINT MEMBER_GENDER_CK CHECK(MEMBER_GENDER IN ('M','F')),
    MEMBER_STATUS VARCHAR2(1) DEFAULT 'Y' CONSTRAINT MEMBER_STATUS_NN NOT NULL CONSTRAINT MEMBER_STATUS_CK CHECK(MEMBER_STATUS IN ('Y','N')), 
    CONSTRAINT "MEMBER_PK" PRIMARY KEY ("MEMBER_CODE"),
    CONSTRAINT "MEMBER_ID_UQ" UNIQUE ("MEMBER_ID"),
    CONSTRAINT "MEMBER_NICKNAME_UQ" UNIQUE ("MEMBER_NICKNAME"),
    CONSTRAINT "MEMBER_EMAIL_UQ" UNIQUE ("MEMBER_EMAIL")
);

COMMENT ON COLUMN MEMBER.MEMBER_CODE IS '회원코드'; 
COMMENT ON COLUMN MEMBER.MEMBER_ID IS '아이디'; 
COMMENT ON COLUMN MEMBER.MEMBER_PWD IS '비밀번호'; 
COMMENT ON COLUMN MEMBER.MEMBER_NAME IS '이름'; 
COMMENT ON COLUMN MEMBER.MEMBER_NICKNAME IS '닉네임'; 
COMMENT ON COLUMN MEMBER.MEMBER_PHONE IS '핸드폰번호'; 
COMMENT ON COLUMN MEMBER.MEMBER_BIRTH IS '생년월일'; 
COMMENT ON COLUMN MEMBER.MEMBER_ADDRESS IS '주소'; 
COMMENT ON COLUMN MEMBER.MEMBER_EMAIL IS '이메일'; 
COMMENT ON COLUMN MEMBER.MEMBER_REG_DATE IS '가입일'; 
COMMENT ON COLUMN MEMBER.MEMBER_GENDER IS '성별'; 
COMMENT ON COLUMN MEMBER.MEMBER_STATUS IS '회원상태';

CREATE SEQUENCE MEM_CODE_SEQ
INCREMENT BY 1
START WITH 1
MINVALUE 1 
MAXVALUE 99999999999999
NOCYCLE
NOCACHE;

DROP TABLE MEMBER;
